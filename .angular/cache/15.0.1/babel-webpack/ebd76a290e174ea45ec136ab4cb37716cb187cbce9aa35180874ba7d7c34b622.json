{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction OrderComponent_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 36)(1, \"th\", 37);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function OrderComponent_tr_46_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.EditItem = item_r3);\n    });\n    i0.ɵɵelement(13, \"i\", 39);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r4 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.UserId.FirstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", item_r3.Products.length, \" Product\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.Address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.status);\n  }\n}\nfunction OrderComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"div\", 41);\n    i0.ɵɵelement(2, \"div\", 42);\n    i0.ɵɵelementStart(3, \"div\", 43)(4, \"div\", 44);\n    i0.ɵɵelement(5, \"div\", 45);\n    i0.ɵɵelementEnd()()()();\n  }\n}\nexport class OrderComponent {\n  constructor(api) {\n    this.api = api;\n    this.listOfOrders = [];\n    this.SelectedOrder = {};\n    this.TotalQuantity = 0;\n    this.TotalPrice = 0;\n    this.waiting = true;\n  }\n  GetAllOrders() {\n    this.api.get('Order').subscribe({\n      next: data => {\n        this.listOfOrders = data;\n        for (const item of this.listOfOrders) {\n          for (const i of item.Products) {\n            this.TotalQuantity += i.Quantity;\n            this.TotalPrice += i.Quantity * i.ProductID.Price;\n            console.log(this.listOfOrders);\n          }\n        }\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  ngOnInit() {\n    this.Setwaiting();\n    this.GetAllOrders();\n  }\n  ShowDetails(item) {\n    this.SelectedOrder = item;\n    console.log(this.SelectedOrder);\n  }\n  Setwaiting() {\n    setTimeout(() => {\n      this.waiting = false;\n    }, 1000);\n  }\n  Edit(value) {\n    this.api.put('Order/' + this.EditItem._id, {\n      status: value\n    }).subscribe(data => {\n      this.ngOnInit();\n      Swal.fire({\n        icon: 'success',\n        title: 'Done...',\n        text: 'Status Updated Successfully'\n      });\n    });\n  }\n  static #_ = this.ɵfac = function OrderComponent_Factory(t) {\n    return new (t || OrderComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrderComponent,\n    selectors: [[\"app-order\"]],\n    decls: 73,\n    vars: 9,\n    consts: [[1, \"card-list\"], [1, \"row\"], [1, \"col-12\", \"col-lg-6\", \"col-xl-4\", \"mb-4\"], [1, \"card\", \"p-2\", \"py-4\"], [\"id\", \"cardtetx\"], [1, \"d-flex\", \"justify-content-strat\", \"align-items-center\"], [1, \"bi\", \"bi-border-style\", \"fs-1\", \"text-success\"], [1, \"ms-2\", \"fs-4\"], [1, \"bi\", \"bi-coin\", \"fs-1\", \"text-warning\"], [1, \"bi\", \"bi-cart-check-fill\", \"fs-1\", \"text-primary\"], [1, \"row\", \"p-lg-3\"], [1, \"col-md-12\"], [1, \"table-wrap\"], [1, \"table\", \"productsTable\", \"m-auto\", \"table-hover\"], [1, \"thead-primary\", \"bg-dark\", \"text-white\"], [1, \"fs-sm-6\", \"text-center\"], [\"scope\", \"col\"], [\"class\", \"alert text-center\", \"role\", \"alert\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"py-5\", 4, \"ngIf\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\", \"me-auto\", \"ms-0\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\", \"fs-5\", \"ms-auto\"], [1, \"modal-body\", \"text-end\"], [1, \"mb-3\"], [\"for\", \"recipient-name\", 1, \"col-form-label\"], [\"aria-label\", \"Default select example\", 1, \"form-select\"], [\"status\", \"\"], [\"value\", \"Waiting\"], [\"value\", \"Done\"], [\"value\", \"Canceled\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\", \"me-auto\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"text-center\"], [\"scope\", \"row\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", \"data-bs-whatever\", \"@mdo\", 1, \"btn\", \"btn-outline-warning\", \"ps-sm-1\", \"pe-sm-1\", \"ps-lg-3\", \"pe-lg-3\", \"pe-md-2\", \"ps-md-2\", 3, \"click\"], [1, \"bi\", \"bi-pen\"], [1, \"py-5\"], [1, \"overlay\"], [1, \"overlayDoor\"], [1, \"overlayContent\"], [1, \"loader\"], [1, \"inner\"]],\n    template: function OrderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r7 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n        i0.ɵɵtext(5, \"Number Of OverAll Orders \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelement(7, \"i\", 6);\n        i0.ɵɵelementStart(8, \"span\", 7);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(10, \"div\", 2)(11, \"div\", 3)(12, \"div\", 4);\n        i0.ɵɵtext(13, \"\\u0650All Orderd Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 5);\n        i0.ɵɵelement(15, \"i\", 8);\n        i0.ɵɵelementStart(16, \"span\", 7);\n        i0.ɵɵtext(17);\n        i0.ɵɵpipe(18, \"currency\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(19, \"div\", 2)(20, \"div\", 3)(21, \"div\", 4);\n        i0.ɵɵtext(22, \"Number Of Products Orderd \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 5);\n        i0.ɵɵelement(24, \"i\", 9);\n        i0.ɵɵelementStart(25, \"span\", 7);\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(27, \"div\", 10)(28, \"div\", 11)(29, \"div\", 12)(30, \"table\", 13)(31, \"thead\", 14)(32, \"tr\", 15)(33, \"th\", 16);\n        i0.ɵɵtext(34, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"th\", 16);\n        i0.ɵɵtext(36, \" user\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"th\", 16);\n        i0.ɵɵtext(38, \"Number Of Elements\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"th\", 16);\n        i0.ɵɵtext(40, \"Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"th\", 16);\n        i0.ɵɵtext(42, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"th\", 16);\n        i0.ɵɵtext(44, \"Edit\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(45, \"tbody\");\n        i0.ɵɵtemplate(46, OrderComponent_tr_46_Template, 14, 5, \"tr\", 17);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(47, OrderComponent_div_47_Template, 6, 0, \"div\", 18);\n        i0.ɵɵelementStart(48, \"div\", 19)(49, \"div\", 20)(50, \"div\", 21)(51, \"div\", 22);\n        i0.ɵɵelement(52, \"button\", 23);\n        i0.ɵɵelementStart(53, \"h1\", 24);\n        i0.ɵɵtext(54, \"Edit Product Details\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(55, \"div\", 25)(56, \"form\")(57, \"div\", 26)(58, \"label\", 27);\n        i0.ɵɵtext(59, \"Select Order Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"select\", 28, 29)(62, \"option\", 30);\n        i0.ɵɵtext(63, \"Waiting\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"option\", 31);\n        i0.ɵɵtext(65, \"Done\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"option\", 32);\n        i0.ɵɵtext(67, \"Canceled\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(68, \"div\", 33)(69, \"button\", 34);\n        i0.ɵɵtext(70, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"button\", 35);\n        i0.ɵɵlistener(\"click\", function OrderComponent_Template_button_click_71_listener() {\n          i0.ɵɵrestoreView(_r7);\n          const _r2 = i0.ɵɵreference(61);\n          return i0.ɵɵresetView(ctx.Edit(_r2.value));\n        });\n        i0.ɵɵtext(72, \"Save Changes\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(ctx.listOfOrders.length);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(18, 5, ctx.TotalPrice, \"EGP\", \"symbol\"));\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(ctx.TotalQuantity);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listOfOrders);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.waiting);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.NgControlStatusGroup, i2.CurrencyPipe],\n    styles: [\".productsTable[_ngcontent-%COMP%]{background-color:#fff}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:100000000}.overlay[_ngcontent-%COMP%]   .overlayDoor[_ngcontent-%COMP%]:before, .overlay[_ngcontent-%COMP%]   .overlayDoor[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;width:50%;height:100%;background:#fff;transition:.5s cubic-bezier(.77,0,.18,1);transition-delay:.8s}.overlay[_ngcontent-%COMP%]   .overlayDoor[_ngcontent-%COMP%]:before{left:0}.overlay[_ngcontent-%COMP%]   .overlayDoor[_ngcontent-%COMP%]:after{right:0}.overlay.loaded[_ngcontent-%COMP%]   .overlayDoor[_ngcontent-%COMP%]:before{left:-50%}.overlay.loaded[_ngcontent-%COMP%]   .overlayDoor[_ngcontent-%COMP%]:after{right:-50%}.overlay.loaded[_ngcontent-%COMP%]   .overlayContent[_ngcontent-%COMP%]{opacity:0;margin-top:-15px}.overlay[_ngcontent-%COMP%]   .overlayContent[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:.5s cubic-bezier(.77,0,.18,1)}.overlay[_ngcontent-%COMP%]   .overlayContent[_ngcontent-%COMP%]   .skip[_ngcontent-%COMP%]{display:block;width:130px;text-align:center;margin:50px auto 0;cursor:pointer;color:#111;font-family:Nunito;font-weight:700;padding:12px 0;border:2px solid #111;border-radius:3px;transition:.2s ease}.overlay[_ngcontent-%COMP%]   .overlayContent[_ngcontent-%COMP%]   .skip[_ngcontent-%COMP%]:hover{background:#ddd;color:#444;border-color:#ddd}.loader[_ngcontent-%COMP%]{width:100px;height:100px;border:3px solid #111;border-bottom:3px solid transparent;border-radius:50%;position:relative;animation:_ngcontent-%COMP%_spin 1s linear infinite;display:flex;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:64px;height:64px;border:3px solid transparent;border-top:3px solid #111;border-radius:50%;animation:_ngcontent-%COMP%_spinInner 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_spinInner{0%{transform:rotate(0)}to{transform:rotate(-720deg)}}\"]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}